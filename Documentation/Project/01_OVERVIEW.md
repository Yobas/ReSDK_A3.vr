# Обзор проекта для разработчиков

## Введение

ReSDK_A3 - это комплексный набор инструментов и исходного кода для разработки игрового контента к модификации Relicta, основанной на Arma 3. Проект включает клиентские модули, серверный код, редактор ReEditor, систему визуального программирования ReNode и утилиты для сборки и развертывания.

## Ключевые концепции

### Архитектура клиент-сервер

Проект построен на классической клиент-серверной модели:

- **Сервер (host)** - центральный узел, управляющий игровой логикой, обрабатывающий действия игроков и синхронизирующий состояние игрового мира
- **Клиент** - локальное приложение игрока, отображающее игровой контент и отправляющее действия на сервер
- Все критичные операции выполняются на сервере, клиент лишь отображает результат

> **Пример:** Когда игрок нажимает кнопку атаки на клиенте, клиент отправляет запрос на сервер. Сервер проверяет корректность, выполняет логику (вычитает здоровье), затем рассылает обновления всем клиентам.

### OOP система (Object-Oriented Programming)

Проект использует собственную систему объектно-ориентированного программирования, реализованную через макросы:

- **Классы** - определяются через макрос `class()` с наследованием через `extends()`
- **Объекты** - виртуальные объекты на основе типа `Location` в Arma 3
- **Методы и поля** - определяются через макросы `func()` и `var()`
- Система полностью описана в заголовочном файле `host/oop.hpp`

### NOEngine (Net Objects Engine)

Система оптимизированной загрузки и синхронизации игровых объектов:

- Динамическая подгрузка частей карты (чанков) для каждого клиента
- Объекты создаются локально на клиенте только в области видимости
- Репликация состояния происходит программно, а не через стандартный механизм Arma 3
- Разделение объектов по типам с разной дистанцией прорисовки (Item, IStruct, Decor, BasicMob)

Это позволяет поддерживать на карте тысячи объектов без критичной потери производительности.

### Модульная архитектура

Проект разделен на независимые модули:

- **Серверные модули** (`host/`) - выполняются только на сервере
- **Клиентские модули** (`client/`) - выполняются только на клиенте
- **Общие компоненты** (`host/CommonComponents/`) - используются и на клиенте, и на сервере
- **Редакторские модули** (`Editor/`) - используются только в редакторе

Каждый модуль имеет свою точку входа (`*_init.sqf`) и четко определенные зависимости.

## Структура проекта

Основные директории:

```
Src/
├── host/          # Серверный код
├── client/        # Клиентский код
├── Editor/        # Код редактора ReEditor
├── RVEngine/      # C++ расширение (внешний компонент)
├── ReBridge/      # Редакторный модуль для C# скриптов (только для редактора)
└── Scripts/       # C# скрипты для инструментов
```

Подробнее см. [Структура проекта](02_PROJECT_STRUCTURE.md).

## Технологический стек

- **Язык**: SQF (Scripting Language for Arma 3), C++ (RVEngine), C# (инструменты)
- **Платформа**: Arma 3 Engine (Real Virtuality Engine)
- **Сборка**: RBuilder (SQF), CMake (RVEngine)
- **Версионирование**: Git, семантическое версионирование

## Быстрый старт для новых разработчиков

### Что нужно знать перед началом

1. **Базовое понимание SQF** - язык программирования Arma 3
2. **Понимание клиент-серверной архитектуры** - как взаимодействуют клиент и сервер
3. **Опыт работы с Git** - система контроля версий
4. **Базовые навыки отладки** - умение находить и исправлять ошибки

### Рекомендуемый порядок изучения

1. ✅ Прочитайте [Руководство по установке](../INSTALL_GUIDE.md) и настройте окружение
2. ✅ Изучите [Структуру проекта](02_PROJECT_STRUCTURE.md) - понять организацию кода
3. ✅ Ознакомьтесь с [Особенностями синтаксиса](03_SYNTAX_GUIDE.md) - специфика языка проекта
4. ✅ Изучите [Модульную систему](04_MODULE_SYSTEM.md) - как создавать новые модули
5. ✅ Прочитайте [Стандарты кодирования](09_CODING_STANDARDS.md) - правила написания кода
6. ✅ Изучите [Процессы разработки](08_DEVELOPMENT_WORKFLOW.md) - workflow команды

### Первые шаги

1. **Клонируйте репозиторий** согласно [INSTALL_GUIDE.md](../INSTALL_GUIDE.md)
2. **Настройте окружение** - установите необходимые инструменты
3. **Запустите проект** - убедитесь, что всё работает локально
4. **Изучите существующий код** - начните с простых модулей
5. **Создайте свой первый модуль** - следуя [Модульной системе](04_MODULE_SYSTEM.md)

## Связь с существующей документацией

Эта проектная документация дополняет существующие руководства:

- **[API документация](../API/README.md)** - Справочник API всех модулей (генерируется автоматически)
- **[Архитектура проекта](../PROJECT_ARCHITECTURE.md)** - Общее описание архитектуры
- **[Руководство по скриптингу](../ScriptingGuides/README.md)** - Основы языка SQF
- **[Руководство по редактору](../EditorGuides/README.md)** - Использование ReEditor
- **[ReNode документация](../ReNode/README.md)** - Визуальное программирование
- **[RVEngine документация](../RVEngine/README.md)** - Документация C++ расширения (внешний компонент)

Проектная документация фокусируется на:
- **Технических деталях** реализации
- **Процессах разработки** и workflow
- **Особенностях проекта** и специфичных решениях
- **Поддержке и сопровождении** проекта

## Важные особенности проекта

### Обработка и выполнение кода

- Код проходит через препроцессор (обработка макросов, `#include`, условная компиляция) и затем загружается во время запуска игры/редактора
- Формально процесс загрузки модулей называется "компиляцией", но фактически это препроцессинг и исполнение скриптов (которые загружаются в байт-код движком Arma 3)
- Используется условная компиляция через флаги: `DEBUG`, `RELEASE`, `EDITOR`, `RBUILDER`

### Производительность

**Важное примечание:** Скрипты на SQF примерно в 40 раз медленнее, чем JavaScript. Поэтому производительность критически важна, но только в местах, где она действительно решает: циклы, частые операции, критические пути выполнения.

- NOEngine решает сетевую проблему с большим количеством объектов: глобальные объекты постоянно синхронизируются по сети, что создает нагрузку. NOEngine позволяет гибко управлять частотой обновления состояния объектов и использовать локальные объекты вместо глобальной репликации
- Оптимизация фокусируется на частых операциях и циклах, которые выполняются многократно

### Совместимость

- Проект развивается с 2017 года
- В коде присутствует legacy-код и deprecated-методы, которые все еще поддерживаются

## Ресурсы и контакты

- **GitHub репозиторий**: Основной репозиторий проекта
- **Discord**: [Discord сервер](https://discord.relicta.ru) для общения
- **Веб-сайт**: [relicta.ru](https://relicta.ru)

## Что дальше?

- ➡️ [Структура проекта](02_PROJECT_STRUCTURE.md) - детальное описание структуры
- ➡️ [Особенности синтаксиса](03_SYNTAX_GUIDE.md) - специфика синтаксиса проекта
- ➡️ [Модульная система](04_MODULE_SYSTEM.md) - создание модулей

